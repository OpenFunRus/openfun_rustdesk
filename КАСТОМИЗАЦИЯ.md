# üé® –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ RustDesk –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
2. [UI –∏ –¥–∏–∑–∞–π–Ω (Tabler.io Dark Theme)](#ui-–∏-–¥–∏–∑–∞–π–Ω)
3. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∑–∞—â–∏—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–µ—Ä–∞)](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
4. [GitHub Actions (—Å–±–æ—Ä–∫–∞ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º)](#github-actions)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-github-secrets)
6. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
7. [–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ GitHub (submodule hbb_common)](#–∑–∞–≥—Ä—É–∑–∫–∞-–Ω–∞-github)

---

## üìù –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –≤–µ—Ä—Å–∏—é RustDesk –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤ —Å:
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º UI –≤ —Ç—ë–º–Ω–æ–π —Ç–µ–º–µ Tabler.io
- ‚úÖ –†–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞ 320x200 –ø–∏–∫—Å–µ–ª–µ–π
- ‚úÖ –ó–∞—à–∏—Ç—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ò –ø–∞—Ä–æ–ª—è (–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –º–µ–Ω—è—Ç—å **—Ç–æ–ª—å–∫–æ ID** —á–µ—Ä–µ–∑ `RustDesk.toml`

**–ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:**
- ‚ùå –ö–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Å–µ—Ä–≤–µ—Ä (–∑–∞—à–∏—Ç–æ –≤ EXE)
- ‚ùå –ö–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –∫–ª—é—á (–∑–∞—à–∏—Ç–æ –≤ EXE)
- ‚ùå –ö–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å API (–∑–∞—à–∏—Ç–æ –≤ EXE)
- ‚ùå –ö–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å (–∑–∞—à–∏—Ç–æ –≤ EXE)
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ **–ù–ï –°–û–•–†–ê–ù–Ø–Æ–¢–°–Ø** –≤ `.toml` —Ñ–∞–π–ª—ã! üîí
- ‚úÖ –ö–∞—Å—Å–∏—Ä—ã –ú–û–ì–£–¢ –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ ID —á–µ—Ä–µ–∑ `RustDesk.toml`

---

## üé® UI –∏ –¥–∏–∑–∞–π–Ω

### –§–∞–π–ª 1: `src/ui/index.tis`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.1: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞

**–ë–´–õ–û:**
```tiscript
// –†–∞–∑–º–µ—Ä –Ω–µ –±—ã–ª —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω
```

**–°–¢–ê–õ–û:**
```tiscript
view.windowMinSize = (320, 200);
view.windowMaxSize = (320, 200);
```

**–ü–û–ß–ï–ú–£:** –û–∫–Ω–æ –≤—Å–µ–≥–¥–∞ 320x200 –ø–∏–∫—Å–µ–ª–µ–π, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 1.2: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ render() —Å input –¥–ª—è ID

**–ë–´–õ–û (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - –ù–ï –†–ê–ë–û–¢–ê–ï–¢):**
```tiscript
function render() {
    return
        <div .app>
            <div .left-pane>
                <div .simple-content>
                    <div .section-title>{translate('Your Desktop')}</div>
                    <div .id-section>
                        <span .id-label>ID: </span>
                        <span .id-value>{key_confirmed ? formatId(get_id()) : translate("Generating ...")}</span>
                    </div>
                </div>
            </div>
        </div>; 
}
```

**–°–¢–ê–õ–û (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å input - –†–ê–ë–û–¢–ê–ï–¢):**
```tiscript
function render() {
    var is_can_screen_recording = handler.is_can_screen_recording(false);
    return
        <div .app>
            <div .left-pane style={incoming_only ? "width:*" : ""}>
                <div>
                    <div .title style="flow:horizontal; position:relative; height:1.6em; line-height:1.6em">
                        <span>{translate('Your Desktop')}</span>
                        <div style="display:none">{outgoing_only ? <span .link #open-settings style="position:absolute; right:0; bottom:0; transform:scale(0.6); transform-origin:right bottom; opacity:0.85">{svg_menu}</span> : ""}</div>
                    </div>
                    <div .lighter-text style="display:none">{outgoing_only ? translate('outgoing_only_desk_tip') : translate('desk_tip')}</div>
                    <div style="position:absolute; left:-10000px; top:-10000px; width:0; height:0; overflow:hidden"><MyIdMenu /></div>
                    <div .your-desktop>
                        <div .id-label-custom>ID</div>
                        {key_confirmed ? <input type="text" .readonly-text readonly value={formatId(get_id())}/> : <div .generating-text>{translate("Generating ...")}</div>}
                    </div>
                    <div .password style="display:none"><PasswordArea /></div>
                </div>
                <div style="display:none">{(!is_win || handler.is_installed() || disable_installation) ? "" : <InstallMe />}</div>
                <div style="display:none">{software_update_url && !disable_installation ? <UpdateMe /> : ""}</div>
                <div style="display:none">{is_win && handler.is_installed() && !software_update_url && handler.is_installed_lower_version() && !disable_installation ? <UpgradeMe /> : ""}</div>
                <div style="display:none">{is_can_screen_recording ? "": <CanScreenRecording />}</div>
                <div style="display:none">{is_can_screen_recording && !handler.is_process_trusted(false) ? <TrustMe /> : ""}</div>
                <div style="display:none">{!service_stopped && is_can_screen_recording && handler.is_process_trusted(false) && handler.is_installed() && !handler.is_installed_daemon(false) ? <InstallDaemon /> : ""}</div>
                <div style="display:none">{system_error ? <SystemError /> : ""}</div>
                <div style="display:none">{!system_error && handler.is_login_wayland() && !handler.current_is_wayland() ? <FixWayland /> : ""}</div>
                <div style="display:none">{!system_error && handler.current_is_wayland() ? <ModifyDefaultLogin /> : ""}</div>
                <div .connect-status>
                    <span class={"connect-status-icon connect-status" + (service_stopped ? 0 : connect_status)} />
                    {this.getConnectStatusStr()}
                    {service_stopped ? <span .link #start-service>{translate('Start service')}</span> : ""}
                </div>
            </div>
            <div .right-pane style="display:none">
                <div .right-content>
                    <div .card-connect>
                        <div .title>{translate('Control Remote Desktop')}</div>
                        <ID @{this.remote_id} />
                        <div .right-buttons>
                            <button .button .outline #file-transfer>{translate('Transfer file')}</button>
                            <button .button #connect>{translate('Connect')}</button>
                        </div>
                    </div>
                    <MultipleSessions @{this.multipleSessions} />
                </div>
                <div style="display:none">{!outgoing_only ? <ConnectStatus @{this.connect_status} /> : ""}</div>
            </div>
            <div #overlay style="position: absolute;size:*;background:black;opacity:0.5;display:none" />
        </div>;
}
```

**–ü–û–ß–ï–ú–£ –í–ê–ñ–ù–û:**
- ‚úÖ **`<input type="text">`** - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã ID! RustDesk –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç.
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`MyIdMenu`, `PasswordArea`, –∏ —Ç.–¥.) –æ—Å—Ç–∞—é—Ç—Å—è –≤ DOM, –Ω–æ —Å–∫—Ä—ã—Ç—ã —á–µ—Ä–µ–∑ `display:none` –≤ CSS.
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `translate()` –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è).

---

### –§–∞–π–ª 2: `src/ui/index.css`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.1: Tabler.io Dark Theme + —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä

**–ë–´–õ–û:**
```css
body {
    background: white;
}
```

**–°–¢–ê–õ–û:**
```css
html {
    background-color: #182433;
    width: 320px;
    height: 200px;
}

body {
    overflow: hidden;
    background-color: #182433;
    color: #f8fafc;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.app {
    flow: horizontal;
    size: *;
    background: #182433;
    color: #f8fafc;
}

.left-pane {
    width: 320px;
    height: 200px;
    background: #182433;
    border-right: none;
    position: relative;
    overflow: hidden;
}
```

**–ü–û–ß–ï–ú–£:** 
- Tabler.io Dark Theme: `#182433` (—Ñ–æ–Ω), `#f8fafc` (—Ç–µ–∫—Å—Ç)
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã: 320x200px

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.2: –°—Ç–∏–ª–∏ –¥–ª—è ID (–∫—Ä—É–ø–Ω—ã–π —Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç)

**–ë–´–õ–û:**
```css
/* ID –±—ã–ª –æ–±—ã—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º */
```

**–°–¢–ê–õ–û:**
```css
.id-label-custom {
    font-size: 1.1em;
    color: #cbd5e1;
    margin-bottom: 5px;
}

.readonly-text {
    font-weight: bold;
    color: #206bc4; /* –Ø—Ä–∫–æ-—Å–∏–Ω–∏–π */
    font-size: 1.5em;
    background: transparent;
    border: none;
    padding: 0;
    height: auto;
}

.generating-text {
    font-weight: bold;
    color: #206bc4;
    font-size: 1.5em;
    background: transparent;
    padding: 8px 0;
}
```

**–ü–û–ß–ï–ú–£:** ID –∫—Ä—É–ø–Ω—ã–π –∏ —è—Ä–∫–æ-—Å–∏–Ω–∏–π (`#206bc4`) –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.3: –°—Ç–∞—Ç—É—Å "–ì–æ—Ç–æ–≤–æ" —Å –∑–µ–ª—ë–Ω–æ–π —Ç–æ—á–∫–æ–π

**–ë–´–õ–û:**
```css
/* –°—Ç–∞—Ç—É—Å –±—ã–ª –æ–±—ã—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º */
```

**–°–¢–ê–õ–û:**
```css
div.connect-status {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    border-top: #2d3748 solid 1px;
    width: 100%;
    padding: 0.75em;
    background: #1d273b;
    color: #cbd5e1;
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

.connect-status-icon {
    border-radius: 50%;
    width: 8px;
    height: 8px;
    display: inline-block;
    margin-right: 0.5em;
    background: #2fb344; /* –ó–µ–ª—ë–Ω–∞—è —Ç–æ—á–∫–∞ */
}
```

**–ü–û–ß–ï–ú–£:** –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å –∑–µ–ª—ë–Ω–æ–π —Ç–æ—á–∫–æ–π.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.4: –§—É—Ç–µ—Ä —á–µ—Ä–µ–∑ CSS ::after

**–ë–´–õ–û:**
```css
/* –§—É—Ç–µ—Ä –±—ã–ª –≤ HTML */
```

**–°–¢–ê–õ–û:**
```css
div.connect-status::after {
    content: "RustDesk by OpenFun 2026 ver. 2.0";
    display: block;
    font-size: 0.85em;
    color: #64748b;
    margin-left: auto;
    padding-right: 1em;
}
```

**–ü–û–ß–ï–ú–£:** –§—É—Ç–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ HTML.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 2.5: –°–∫—Ä—ã—Ç–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ë–´–õ–û:**
```css
/* –≠–ª–µ–º–µ–Ω—Ç—ã –±—ã–ª–∏ –≤–∏–¥–Ω—ã */
```

**–°–¢–ê–õ–û:**
```css
.right-pane {
    display: none;
}

.password {
    display: none;
}

#open-settings {
    display: none;
}

/* –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–∫—Ä—ã—Ç—ã */
```

**–ü–û–ß–ï–ú–£:** –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –∫–∞—Å—Å–∏—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ ID –∏ —Å—Ç–∞—Ç—É—Å.

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –§–∞–π–ª 3: `src/common.rs`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3.1: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ENV –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

**–ë–´–õ–û:**
```rust
pub fn get_custom_rendezvous_server(custom: String) -> String {
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.host.is_empty() {
            return lic.host.clone();
        }
    }
    if !custom.is_empty() {
        return custom;
    }
    "".to_owned()
}
```

**–°–¢–ê–õ–û:**
```rust
pub fn get_custom_rendezvous_server(custom: String) -> String {
    // –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ß–∏—Ç–∞–µ–º –∏–∑ ENV (GitHub Secrets)
    if !config::PROD_RENDEZVOUS_SERVER.read().unwrap().is_empty() {
        return config::PROD_RENDEZVOUS_SERVER.read().unwrap().clone();
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ò–∑ EXE –∏–º–µ–Ω–∏ (Windows license)
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.host.is_empty() {
            return lic.host.clone();
        }
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 3: –ò–∑ .toml (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç.–∫. ENV –≤—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
    if !custom.is_empty() {
        return custom;
    }
    "".to_owned()
}
```

**–ü–û–ß–ï–ú–£:** ENV (–∑–∞—à–∏—Ç—ã–π –≤ EXE) –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `.toml` —Ñ–∞–π–ª–æ–º.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3.2: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ENV –¥–ª—è –∫–ª—é—á–∞

**–ë–´–õ–û:**
```rust
pub fn get_key() -> String {
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.key.is_empty() {
            return lic.key.clone();
        }
    }
    if let Some(v) = get_option("key") {
        v
    } else {
        "".to_owned()
    }
}
```

**–°–¢–ê–õ–û:**
```rust
pub fn get_key() -> String {
    // –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ß–∏—Ç–∞–µ–º –∏–∑ ENV (GitHub Secrets)
    if !config::PROD_KEY.read().unwrap().is_empty() {
        return config::PROD_KEY.read().unwrap().clone();
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ò–∑ EXE –∏–º–µ–Ω–∏ (Windows license)
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.key.is_empty() {
            return lic.key.clone();
        }
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 3: –ò–∑ .toml (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç.–∫. ENV –≤—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
    if let Some(v) = get_option("key") {
        v
    } else {
        "".to_owned()
    }
}
```

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 3.3: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ENV –¥–ª—è API

**–ë–´–õ–û:**
```rust
fn get_api_server_(custom: String, api_server: String) -> String {
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.api.is_empty() {
            return lic.api.clone();
        }
    }
    if !custom.is_empty() {
        if !api_server.is_empty() {
            return api_server;
        }
        return crate::increase_port(&custom, -2);
    }
    "".to_owned()
}
```

**–°–¢–ê–õ–û:**
```rust
fn get_api_server_(custom: String, api_server: String) -> String {
    // –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ß–∏—Ç–∞–µ–º –∏–∑ ENV (GitHub Secrets)
    if !config::PROD_API_SERVER.read().unwrap().is_empty() {
        return config::PROD_API_SERVER.read().unwrap().clone();
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ò–∑ EXE –∏–º–µ–Ω–∏ (Windows license)
    #[cfg(windows)]
    if let Ok(lic) = crate::platform::windows::get_license_from_exe_name() {
        if !lic.api.is_empty() {
            return lic.api.clone();
        }
    }
    // –ü–†–ò–û–†–ò–¢–ï–¢ 3: –ò–∑ .toml –∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ custom
    if !custom.is_empty() {
        if !api_server.is_empty() {
            return api_server;
        }
        return crate::increase_port(&custom, -2);
    }
    "".to_owned()
}
```

---

### –§–∞–π–ª 4: `src/ipc.rs`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4.1: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è

**–ë–´–õ–û:**
```rust
pub fn set_permanent_password(v: String) -> ResultType<()> {
    Config::set_permanent_password(&v);
    set_config("permanent-password", v)
}
```

**–°–¢–ê–õ–û:**
```rust
pub fn set_permanent_password(v: String) -> ResultType<()> {
    // –ó–ê–©–ò–¢–ê: –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–∞—Ä–æ–ª—å –≤ –∫–æ–Ω—Ñ–∏–≥!
    // –ß—Ç–æ–±—ã –∫–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥–ª–∏ —É–∫—Ä–∞—Å—Ç—å –ø–∞—Ä–æ–ª—å!
    // –ü–∞—Ä–æ–ª—å –í–°–ï–ì–î–ê —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ ENV (–∑–∞—à–∏—Ç –≤ EXE)
    log::info!("Permanent password NOT saved to config (security) - using ENV only");
    Ok(())
}
```

**–ü–û–ß–ï–ú–£:** 
- ‚ùå –ü–∞—Ä–æ–ª—å **–ù–ï –°–û–•–†–ê–ù–Ø–ï–¢–°–Ø** –≤ `.toml` —Ñ–∞–π–ª!
- ‚úÖ –ö–∞—Å—Å–∏—Ä—ã –Ω–µ —É–≤–∏–¥—è—Ç –ø–∞—Ä–æ–ª—å –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Ç–∫—Ä–æ—é—Ç `.toml`

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4.2: –ß—Ç–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∏–∑ ENV (compile-time + runtime)

**–ë–´–õ–û:**
```rust
pub fn get_permanent_password() -> String {
    if let Ok(Some(v)) = get_config("permanent-password") {
        Config::set_permanent_password(&v);
        v
    } else {
        Config::get_permanent_password()
    }
}
```

**–°–¢–ê–õ–û:**
```rust
pub fn get_permanent_password() -> String {
    // –ü–†–ò–û–†–ò–¢–ï–¢ 1: Compile-time ENV (GitHub Secrets –ø—Ä–∏ —Å–±–æ—Ä–∫–µ)
    let env_password = option_env!("RS_PASSWORD").unwrap_or("");
    if !env_password.is_empty() {
        return env_password.to_owned();
    }
    
    // –ü–†–ò–û–†–ò–¢–ï–¢ 2: Runtime ENV (–µ—Å–ª–∏ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
    if let Ok(runtime_password) = std::env::var("RS_PASSWORD") {
        if !runtime_password.is_empty() {
            return runtime_password;
        }
    }
    
    // –ü–†–ò–û–†–ò–¢–ï–¢ 3: –ò–∑ .toml (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç.–∫. –ø–∞—Ä–æ–ª—å –∑–∞—à–∏—Ç –≤ EXE)
    if let Ok(Some(v)) = get_config("permanent-password") {
        Config::set_permanent_password(&v);
        v
    } else {
        Config::get_permanent_password()
    }
}
```

**–ü–û–ß–ï–ú–£:**
- ‚úÖ `option_env!("RS_PASSWORD")` - —á–∏—Ç–∞–µ—Ç –ø–∞—Ä–æ–ª—å –ø—Ä–∏ **–∫–æ–º–ø–∏–ª—è—Ü–∏–∏** (–∑–∞—à–∏—Ç –≤ EXE)
- ‚úÖ `std::env::var("RS_PASSWORD")` - —á–∏—Ç–∞–µ—Ç –ø–∞—Ä–æ–ª—å –≤–æ **–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4.3: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ set_options()

**–ë–´–õ–û:**
```rust
#[tokio::main(flavor = "current_thread")]
pub async fn set_options(value: HashMap<String, String>) -> ResultType<()> {
    let _nat = CheckTestNatType::new();
    if let Ok(mut c) = connect(1000, "").await {
        c.send(&Data::Options(Some(value.clone()))).await?;
        c.next_timeout(1000).await.ok();
    }
    Config::set_options(value);
    Ok(())
}
```

**–°–¢–ê–õ–û:**
```rust
#[tokio::main(flavor = "current_thread")]
pub async fn set_options(value: HashMap<String, String>) -> ResultType<()> {
    // –ó–ê–©–ò–¢–ê: –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞, –∫–ª—é—á –≤ .toml
    // –ß—Ç–æ–±—ã –∫–∞—Å—Å–∏—Ä—ã –ù–ï –º–æ–≥–ª–∏ —É–∫—Ä–∞—Å—Ç—å –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª—é—á!
    let mut filtered_value = value.clone();
    
    // –£–¥–∞–ª—è–µ–º –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–≤—Å–µ–≥–¥–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç ENV!)
    let protected_keys = [
        "custom-rendezvous-server",  // –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è!
        "relay-server",               // Relay –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è!
        "api-server",                 // API –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è!
        "key",                        // –ö–õ–Æ–ß –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è! üîí
    ];
    
    for key in protected_keys {
        if filtered_value.remove(key).is_some() {
            log::info!("Protected setting '{}' NOT saved to config (security)", key);
        }
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (stop-service, local-ip-addr –∏ —Ç.–¥.)
    let _nat = CheckTestNatType::new();
    if let Ok(mut c) = connect(1000, "").await {
        c.send(&Data::Options(Some(filtered_value.clone()))).await?;
        c.next_timeout(1000).await.ok();
    }
    Config::set_options(filtered_value);
    Ok(())
}
```

**–ü–û–ß–ï–ú–£:**
- ‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ (`custom-rendezvous-server`, `key`, `api-server`) **–ù–ï –°–û–•–†–ê–ù–Ø–Æ–¢–°–Ø**!
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`stop-service`, `local-ip-addr`) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.
- ‚úÖ –ö–∞—Å—Å–∏—Ä—ã –ù–ï —É–≤–∏–¥—è—Ç –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª—é—á –≤ `.toml` —Ñ–∞–π–ª–µ!

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 4.4: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ set_option()

**–ë–´–õ–û:**
```rust
pub fn set_option(key: &str, value: &str) {
    let mut options = get_options();
    if value.is_empty() {
        options.remove(key);
    } else {
        options.insert(key.to_owned(), value.to_owned());
    }
    set_options(options).ok();
}
```

**–°–¢–ê–õ–û:**
```rust
pub fn set_option(key: &str, value: &str) {
    // –ó–ê–©–ò–¢–ê: –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
    let is_protected = matches!(
        key,
        "custom-rendezvous-server" | "relay-server" | "api-server" | "key"
    );
    
    if is_protected {
        log::info!("Protected setting '{}' NOT saved to config (security)", key);
        return; // –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ–º!
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    let mut options = get_options();
    if value.is_empty() {
        options.remove(key);
    } else {
        options.insert(key.to_owned(), value.to_owned());
    }
    set_options(options).ok();
}
```

**–ü–û–ß–ï–ú–£:** –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `set_option()`.

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ß—Ç–æ –±—É–¥–µ—Ç –≤ `RustDesk2.toml`:

```toml
rendezvous_server = 'rs-ny.rustdesk.com:21116'
nat_type = 1
serial = 0

[options]
stop-service = 'Y'
local-ip-addr = '192.168.1.102'

# ‚ùå –ù–ï–¢: custom-rendezvous-server
# ‚ùå –ù–ï–¢: key
# ‚ùå –ù–ï–¢: api-server
# ‚ùå –ù–ï–¢: password
```

### –ö–∞—Å—Å–∏—Ä –ù–ï —É–∑–Ω–∞–µ—Ç:
- ‚ùå –ê–¥—Ä–µ—Å —Ç–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (`85.113.41.100`)
- ‚ùå –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (`sKlzGNCBVXKkTuixhHQSmyZdfP68PKEr8fUURaLVq5s=`)
- ‚ùå API –∞–¥—Ä–µ—Å (`https://85.113.41.100`)
- ‚ùå –ü–∞—Ä–æ–ª—å (–∑–∞—à–∏—Ç –≤ EXE)

### –ü–æ—á–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ:
1. ‚úÖ **ENV –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞—Å—Å–∏—Ä –ø–æ–ø—Ä–æ–±—É–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å `.toml`, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ ENV (–∑–∞—à–∏—Ç—ã–µ –≤ EXE).
2. ‚úÖ **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–∏** - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.toml`.
3. ‚úÖ **–ü–∞—Ä–æ–ª—å compile-time** - –ø–∞—Ä–æ–ª—å –∑–∞—à–∏–≤–∞–µ—Ç—Å—è –≤ EXE –ø—Ä–∏ —Å–±–æ—Ä–∫–µ (`option_env!`).

---

## ‚öôÔ∏è GitHub Actions

### –§–∞–π–ª 5: `.github/workflows/build-x86-sciter-only.yml`

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 5.1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ ENV –±–ª–æ–∫–∞

**–ë–´–õ–û:**
```yaml
name: Build x86 Sciter

on:
  workflow_dispatch:
```

**–°–¢–ê–õ–û:**
```yaml
name: Build x86 Sciter

on:
  workflow_dispatch:

env:
  SCITER_RUST_VERSION: "1.75"
  VERSION: "1.4.5"
  VCPKG_COMMIT_ID: "120deac3062162151622ca4860575a33844ba10b"
  UPLOAD_ARTIFACT: "true"
  RENDEZVOUS_SERVER: ${{ secrets.RENDEZVOUS_SERVER }}
  RS_PUB_KEY: ${{ secrets.RS_PUB_KEY }}
  API_SERVER: ${{ secrets.API_SERVER }}
  RS_PASSWORD: ${{ secrets.RS_PASSWORD }}
```

**–ü–û–ß–ï–ú–£:** GitHub Secrets –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ–≥–æ workflow.

---

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ 5.2: –≠–∫—Å–ø–æ—Ä—Ç ENV –¥–ª—è cargo build

**–ë–´–õ–û:**
```yaml
- name: Build rustdesk x86 sciter
  run: |
    python3 res/inline-sciter.py
    sed -i 's/branch = "dyn"/branch = "dyn_x86"/g' ./Cargo.toml
    cargo build --features inline,vram,hwcodec --release --bins
```

**–°–¢–ê–õ–û:**
```yaml
- name: Build rustdesk x86 sciter
  id: build
  shell: bash
  env:
    RENDEZVOUS_SERVER: ${{ secrets.RENDEZVOUS_SERVER }}
    RS_PUB_KEY: ${{ secrets.RS_PUB_KEY }}
    API_SERVER: ${{ secrets.API_SERVER }}
    RS_PASSWORD: ${{ secrets.RS_PASSWORD }}
  run: |
    # Debug: –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
    echo "Checking environment variables..."
    echo "RENDEZVOUS_SERVER is set: $(if [ -n "$RENDEZVOUS_SERVER" ]; then echo 'YES'; else echo 'NO'; fi)"
    echo "RS_PUB_KEY is set: $(if [ -n "$RS_PUB_KEY" ]; then echo 'YES'; else echo 'NO'; fi)"
    echo "API_SERVER is set: $(if [ -n "$API_SERVER" ]; then echo 'YES'; else echo 'NO'; fi)"
    echo "RS_PASSWORD is set: $(if [ -n "$RS_PASSWORD" ]; then echo 'YES'; else echo 'NO'; fi)"
    
    # –Ø–≤–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è cargo
    export RENDEZVOUS_SERVER="$RENDEZVOUS_SERVER"
    export RS_PUB_KEY="$RS_PUB_KEY"
    export API_SERVER="$API_SERVER"
    export RS_PASSWORD="$RS_PASSWORD"
    
    python3 res/inline-sciter.py
    sed -i 's/branch = "dyn"/branch = "dyn_x86"/g' ./Cargo.toml
    cargo build --features inline,vram,hwcodec --release --bins
    mkdir -p ./Release
    mv ./target/release/rustdesk.exe ./Release/rustdesk.exe
    curl -LJ -o ./Release/sciter.dll https://github.com/c-smile/sciter-sdk/raw/master/bin.win/x32/sciter.dll
    echo "output_folder=./Release" >> $GITHUB_OUTPUT
```

**–ü–û–ß–ï–ú–£:**
- ‚úÖ –Ø–≤–Ω—ã–π `export` –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥ `cargo build`.
- ‚úÖ Debug `echo` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.
- ‚úÖ `option_env!("RS_PASSWORD")` –≤ Rust –∫–æ–¥–µ —á–∏—Ç–∞–µ—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ **–ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**.

---

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –ü–µ—Ä–µ–π–¥–∏ –≤ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/OpenFunRus/openfun_rustdesk
2. –ù–∞–∂–º–∏ **Settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)
3. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏ **Secrets and variables** ‚Üí **Actions**
4. –ù–∞–∂–º–∏ **New repository secret**

---

### –®–∞–≥ 2: –î–æ–±–∞–≤—å 4 —Å–µ–∫—Ä–µ—Ç–∞

#### –°–µ–∫—Ä–µ—Ç 1: `RENDEZVOUS_SERVER`
- **Name:** `RENDEZVOUS_SERVER`
- **Secret:** `85.113.41.100:21116` (—Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä)

#### –°–µ–∫—Ä–µ—Ç 2: `RS_PUB_KEY`
- **Name:** `RS_PUB_KEY`
- **Secret:** `sKlzGNCBVXKkTuixhHQSmyZdfP68PKEr8fUURaLVq5s=` (—Ç–≤–æ–π –∫–ª—é—á)

#### –°–µ–∫—Ä–µ—Ç 3: `API_SERVER`
- **Name:** `API_SERVER`
- **Secret:** `https://85.113.41.100` (—Ç–≤–æ–π API)

#### –°–µ–∫—Ä–µ—Ç 4: `RS_PASSWORD`
- **Name:** `RS_PASSWORD`
- **Secret:** `—Ç–≤–æ–π_—Å—Ç–∞—Ç–∏—á–Ω—ã–π_–ø–∞—Ä–æ–ª—å` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `MySecurePassword123`)

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã

–¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å:
```
RENDEZVOUS_SERVER    Updated now
RS_PUB_KEY           Updated now
API_SERVER           Updated now
RS_PASSWORD          Updated now
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ –±–∏–ª–¥–∞

1. –ü–µ—Ä–µ–π–¥–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É **Actions**: https://github.com/OpenFunRus/openfun_rustdesk/actions
2. –í—ã–±–µ—Ä–∏ workflow **"Build x86 Sciter"**
3. –ù–∞–∂–º–∏ **Run workflow** ‚Üí **Run workflow**
4. –ü–æ–¥–æ–∂–¥–∏ ~10-15 –º–∏–Ω—É—Ç

---

### 2. –°–∫–∞—á–∞–π —Å–æ–±—Ä–∞–Ω–Ω—ã–π EXE

1. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–∏–ª–¥–∞ (–∑–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ ‚úÖ)
2. –ö–ª–∏–∫–Ω–∏ –Ω–∞ workflow run
3. –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞–π–¥–∏ **Artifacts**
4. –°–∫–∞—á–∞–π `rustdesk-x86-sciter.zip`
5. –†–∞—Å–ø–∞–∫—É–π –∏ –ø–æ–ª—É—á–∏ `rustdesk.exe`

---

### 3. –†–∞–∑–¥–∞–π –∫–∞—Å—Å–∏—Ä–∞–º

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞—Å—Å–∏—Ä–∞:**
1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `RustDesk.toml` –≤ –ø–∞–ø–∫–µ —Å `rustdesk.exe`:
```toml
# ID –∫–∞—Å—Å–∏—Ä–∞
id = "123456789"
```

2. –ó–∞–ø—É—Å—Ç–∏ `rustdesk.exe`
3. –ü—Ä–æ–≥—Ä–∞–º–º–∞:
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—à–∏—Ç—ã–π —Å–µ—Ä–≤–µ—Ä (`85.113.41.100`)
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—à–∏—Ç—ã–π –∫–ª—é—á
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞—à–∏—Ç—ã–π –ø–∞—Ä–æ–ª—å
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç ID (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–∑ `RustDesk.toml`)

---

## üì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ GitHub (submodule hbb_common)

### –ü—Ä–æ–±–ª–µ–º–∞: Submodule `hbb_common`

RustDesk –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **submodule** `libs/hbb_common`, –∫–æ—Ç–æ—Ä—ã–π:
- ‚ùå –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ GitHub –∫–∞–∫ —Å–µ—Ä–∞—è –ø–∞–ø–∫–∞ —Å `@ commit_hash`
- ‚ùå –ù–µ–ª—å–∑—è –æ—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ùå –ü—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ ZIP –∞—Ä—Ö–∏–≤–∞ - –ø–∞–ø–∫–∞ –ø—É—Å—Ç–∞—è

### –†–µ—à–µ–Ω–∏–µ: –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ–∞–π–ª—ã

#### –®–∞–≥ 1: –£–¥–∞–ª–∏ `.git` –∏–∑ `hbb_common`

```bash
cd D:\Cursor\rustdesk-1.4.5\libs\hbb_common
Remove-Item -Recurse -Force .git
```

**–ü–û–ß–ï–ú–£:** –£–¥–∞–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ submodule, —á—Ç–æ–±—ã Git —Å—á–∏—Ç–∞–ª —ç—Ç–æ –æ–±—ã—á–Ω–æ–π –ø–∞–ø–∫–æ–π.

---

#### –®–∞–≥ 2: –£–¥–∞–ª–∏ `.gitmodules`

```bash
cd D:\Cursor\rustdesk-1.4.5
Remove-Item .gitmodules
```

**–ü–û–ß–ï–ú–£:** –£–±–∏—Ä–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ submodule –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Git.

---

#### –®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π Git –∏ –¥–æ–±–∞–≤—å —Ñ–∞–π–ª—ã

```bash
cd D:\Cursor\rustdesk-1.4.5
git init
git remote add origin https://github.com/OpenFunRus/openfun_rustdesk.git
git add .
git commit -m "Custom RustDesk for cashiers with security hardening"
```

**–ü–û–ß–ï–ú–£:** –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π commit —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ (–≤–∫–ª—é—á–∞—è `hbb_common` –∫–∞–∫ –æ–±—ã—á–Ω—É—é –ø–∞–ø–∫—É).

---

#### –®–∞–≥ 4: Force push (—Ç.–∫. —É–¥–∞–ª–∏–ª–∏ submodule)

```bash
git push -f origin master
```

**–ü–û–ß–ï–ú–£:** Force push –Ω—É–∂–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –∏–∑–º–µ–Ω–∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É (—É–±—Ä–∞–ª–∏ submodule).

---

#### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ GitHub

1. –ü–µ—Ä–µ–π–¥–∏: https://github.com/OpenFunRus/openfun_rustdesk/tree/master/libs/hbb_common
2. –¢—ã –¥–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å **31 —Ñ–∞–π–ª**:
   ```
   ‚úÖ build.rs
   ‚úÖ Cargo.toml
   ‚úÖ src/lib.rs
   ‚úÖ src/config.rs
   ‚úÖ src/tcp.rs
   ‚úÖ ... –∏ –µ—â—ë 26 —Ñ–∞–π–ª–æ–≤
   ```

**–¢–µ–ø–µ—Ä—å —ç—Ç–æ –æ–±—ã—á–Ω–∞—è –ø–∞–ø–∫–∞, –Ω–µ submodule! ‚úÖ**

---

## ‚úÖ Checklist: –í—Å—ë –ª–∏ –≥–æ—Ç–æ–≤–æ?

- [ ] ‚úÖ UI –∏–∑–º–µ–Ω—ë–Ω (`src/ui/index.tis`, `src/ui/index.css`)
- [ ] ‚úÖ –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ 320x200px
- [ ] ‚úÖ Tabler.io Dark Theme –ø—Ä–∏–º–µ–Ω—ë–Ω
- [ ] ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (`src/common.rs`, `src/ipc.rs`)
- [ ] ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ `.toml` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] ‚úÖ GitHub Actions –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`.github/workflows/build-x86-sciter-only.yml`)
- [ ] ‚úÖ GitHub Secrets –¥–æ–±–∞–≤–ª–µ–Ω—ã (4 —Å–µ–∫—Ä–µ—Ç–∞)
- [ ] ‚úÖ Submodule `hbb_common` –∑–∞–≥—Ä—É–∂–µ–Ω –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ–∞–π–ª—ã
- [ ] ‚úÖ `–ö–ê–°–¢–û–ú–ò–ó–ê–¶–ò–Ø.md` —Å–æ–∑–¥–∞–Ω
- [ ] ‚úÖ –í—Å—ë –∑–∞–≥—Ä—É–∂–µ–Ω–æ –Ω–∞ GitHub

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å GitHub Secrets (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 4 —Å–µ–∫—Ä–µ—Ç–∞)
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ GitHub Actions (–≤–æ –≤–∫–ª–∞–¥–∫–µ Actions)
3. –ü—Ä–æ–≤–µ—Ä—å `RustDesk2.toml` - —Ç–∞–º –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `custom-rendezvous-server`, `key`, `api-server`

---

**–ì–æ—Ç–æ–≤–æ! üéâ –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–∞—Å—Ç–æ–º–Ω–∞—è –≤–µ—Ä—Å–∏—è RustDesk –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤!**


üé® **OpenFun 2026**

